# Product Roadmap

Вы помогаете пользователю создать или обновить дорожную карту продукта для Design OS. Эта команда служит двум целям:

1. **Создать** первоначальную дорожную карту, если её нет
2. **Синхронизировать** изменения, если пользователь вручную отредактировал markdown файлы

## Step 1: Check Current State

Сначала проверьте, существует ли `/product/product-roadmap.md` и прочитайте `/product/product-overview.md`, если он существует.

---

## If No Roadmap Exists (Creating New)

### Analyze the Product Overview

Прочитайте обзор продукта и проанализируйте:
- Основное описание
- Решаемые проблемы
- Перечисленные ключевые функции

### Propose Sections

Основываясь на вашем анализе, предложите 3-5 секций, которые представляют:
- **Элементы навигации** - основные области UI продукта
- **Фазы дорожной карты** - логический порядок построения
- **Самостоятельные области функций** - каждая может быть спроектирована и построена независимо

Представьте ваше предложение:

"Основываясь на обзоре вашего продукта, я бы предложил разбить это на следующие секции:

1. **[Section Title]** - [Описание в одно предложение]
2. **[Section Title]** - [Описание в одно предложение]
3. **[Section Title]** - [Описание в одно предложение]

Они упорядочены по важности и логической последовательности разработки. Первая секция будет основной функциональностью, каждая последующая секция строится на ней."

Затем используйте инструмент AskUserQuestion, чтобы спросить пользователя: "Имеет ли смысл такое разбиение? Хотели бы вы скорректировать какие-либо секции или их порядок?"

### Refine with User

Итерируйте по секциям на основе обратной связи пользователя. Задавайте уточняющие вопросы:
- "Должна ли [feature X] быть отдельной секцией или частью [Section Y]?"
- "Какую секцию вы считаете наиболее критичной для построения первой?"
- "Есть ли какие-либо основные области, которые я упустил?"

### Create the File

После одобрения создайте `/product/product-roadmap.md` в следующем точном формате:

```markdown
# Product Roadmap

## Sections

### 1. [Section Title]
[Описание в одно предложение]

### 2. [Section Title]
[Описание в одно предложение]

### 3. [Section Title]
[Описание в одно предложение]
```

### Confirm

"Я создал вашу дорожную карту продукта в `/product/product-roadmap.md`. На главной странице теперь отображаются ваши [N] секций:

1. **[Section 1]** — [Описание]
2. **[Section 2]** — [Описание]
3. **[Section 3]** — [Описание]

**Следующий шаг:** Запустите `/data-model` для определения основных сущностей и связей в вашем продукте. Это устанавливает общий словарь, который поддерживает согласованность ваших секций."

---

## If Roadmap Already Exists (Syncing)

### Read Current Files

Прочитайте оба:
- `/product/product-overview.md`
- `/product/product-roadmap.md`

### Report Current State

"Я вижу, что у вас уже определена дорожная карта продукта с [N] секциями:

1. [Section 1 Title]
2. [Section 2 Title]
...

Что вы хотели бы сделать?
- **Обновить секции** - Добавить, удалить или изменить порядок секций
- **Синхронизировать из файлов** - Я перечитаю markdown файлы и подтвержу, что всё синхронизировано
- **Начать заново** - Регенерировать дорожную карту на основе текущего обзора продукта"

### Handle User Choice

**Если обновление секций:**
Спросите, какие изменения они хотят внести, затем обновите файл соответственно.

**Если синхронизация:**
Подтвердите, что текущее состояние соответствует тому, что в файлах. Если пользователь вручную отредактировал файлы `.md`, сообщите им, что приложение подхватит эти изменения при следующей сборке/обновлении.

**Если начать заново:**
Следуйте потоку "Creating New" выше, но отметьте, что вы заменяете существующую дорожную карту.

---

## Important Notes

- Секции должны быть упорядочены по приоритету разработки
- Каждая секция должна быть достаточно самостоятельной, чтобы проектироваться и строиться независимо
- Названия секций становятся элементами навигации в приложении
- Пронумерованный формат (`### 1. Title`) требуется для парсинга
- Держите описания в одно предложение - кратко и ясно
- Не создавайте слишком много секций (3-5 идеально)
