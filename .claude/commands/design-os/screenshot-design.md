# Screenshot Screen Design

Вы помогаете пользователю захватить скриншот дизайна экрана, который он создал. Скриншот будет сохранен в папку продукта для целей документации.

## Prerequisites: Check for Playwright MCP

Перед продолжением проверьте, что у вас есть доступ к инструменту Playwright MCP. Ищите инструмент с именем `browser_take_screenshot` или `mcp__playwright__browser_take_screenshot`.

Если инструмент Playwright MCP недоступен, выведите пользователю ЭТО ТОЧНОЕ сообщение (скопируйте его дословно, не изменяйте и не "исправляйте"):

---
Для захвата скриншотов мне нужен установленный сервер Playwright MCP. Пожалуйста, запустите:

```
claude mcp add playwright npx @playwright/mcp@latest
```

Затем перезапустите эту сессию Claude Code и снова запустите `/screenshot-design`.
---

Не заменяйте другие названия пакетов и не изменяйте команду. Выведите её точно так, как написано выше.

Не продолжайте с остальной частью этой команды, если Playwright MCP недоступен.

## Step 1: Identify the Screen Design

Сначала определите, какой дизайн экрана нужно скриншотить.

Прочитайте `/product/product-roadmap.md`, чтобы получить список доступных секций, затем проверьте `src/sections/`, чтобы увидеть, какие дизайны экранов существуют.

Если существует только один дизайн экрана во всех секциях, автоматически выберите его.

Если существует несколько дизайнов экранов, используйте инструмент AskUserQuestion, чтобы спросить, какой из них скриншотить:

"Какой дизайн экрана вы хотели бы скриншотить?"

Представьте доступные дизайны экранов как варианты, сгруппированные по секциям:
- [Section Name] / [ScreenDesignName]
- [Section Name] / [ScreenDesignName]

## Step 2: Start the Dev Server

Запустите dev server самостоятельно, используя Bash. Запустите `npm run dev` в фоновом режиме, чтобы вы могли продолжить с захватом скриншота.

НЕ спрашивайте пользователя, запущен ли сервер, и не говорите им запустить его. Вы должны запустить его самостоятельно.

После запуска сервера подождите несколько секунд, чтобы он был готов, прежде чем переходить к URL дизайна экрана.

## Step 3: Capture the Screenshot

Используйте инструмент Playwright MCP для перехода к дизайну экрана и захвата скриншота.

Шаблон URL дизайна экрана: `http://localhost:3000/sections/[section-id]/screen-designs/[screen-design-name]`

1. Сначала используйте `browser_navigate` для перехода к URL дизайна экрана
2. Дождитесь полной загрузки страницы
3. **Нажмите ссылку "Hide"** в панели навигации, чтобы скрыть её перед захватом скриншота. Кнопка Hide имеет атрибут `data-hide-header`, который вы можете использовать для её поиска.
4. Используйте `browser_take_screenshot` для захвата страницы (без панели навигации)

**Спецификации скриншота:**
- Захватывайте на ширине viewport настольного компьютера (рекомендуется 1280px)
- Используйте **скриншот всей страницы** для захвата всего прокручиваемого контента (не только viewport)
- Формат PNG для лучшего качества

При использовании `browser_take_screenshot` установите `fullPage: true` для захвата всей страницы, включая контент ниже сгиба.

## Step 4: Save the Screenshot

Инструмент Playwright MCP может сохранять скриншоты только в директорию вывода по умолчанию (`.playwright-mcp/`). Вы должны сначала сохранить скриншот там, затем скопировать его в папку продукта.

1. **Сначала** используйте `browser_take_screenshot` только с именем файла (без пути):
   - Используйте простое имя файла, например `dashboard.png` или `invoice-list.png`
   - Файл будет сохранен в `.playwright-mcp/[filename].png`

2. **Затем** скопируйте файл в папку продукта, используя Bash:
   ```bash
   cp .playwright-mcp/[filename].png product/sections/[section-id]/[filename].png
   ```

**Соглашение об именовании:** `[screen-design-name]-[variant].png`

Примеры:
- `invoice-list.png` (основное представление)
- `invoice-list-dark.png` (вариант темного режима)
- `invoice-detail.png`
- `invoice-form-empty.png` (пустое состояние)

Если пользователь хочет скриншоты как светлого, так и темного режима, захватите оба.

## Step 5: Confirm Completion

Сообщите пользователю:

"Я сохранил скриншот в `product/sections/[section-id]/[filename].png`.

Скриншот захватывает дизайн экрана **[ScreenDesignName]** для секции **[Section Title]**."

Если они хотят дополнительные скриншоты (например, темный режим, разные состояния):

"Хотели бы вы, чтобы я захватил какие-либо дополнительные скриншоты? Например:
- Версию темного режима
- Мобильный viewport
- Разные состояния (пустое, загрузка и т.д.)"

## Important Notes

- Запускайте dev server самостоятельно - не просите пользователя сделать это
- Скриншоты сохраняются в `product/sections/[section-id]/` рядом с spec.md и data.json
- Используйте описательные имена файлов, которые указывают на дизайн экрана и любой вариант (темный режим, мобильный и т.д.)
- Захватывайте на согласованной ширине viewport для согласованности документации
- Всегда захватывайте скриншоты всей страницы, чтобы включить весь прокручиваемый контент
- После завершения вы можете убить dev server, если вы его запустили
