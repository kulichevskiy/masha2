# Data Model

Вы помогаете пользователю определить основную модель данных для его продукта. Это устанавливает «существительные» системы — сущности и их связи.

## Step 1: Check Prerequisites

Сначала проверьте, что обзор продукта и дорожная карта существуют:

1. Прочитайте `/product/product-overview.md`, чтобы понять, что делает продукт
2. Прочитайте `/product/product-roadmap.md`, чтобы понять запланированные секции

Если какой-либо файл отсутствует, сообщите пользователю:

"Перед определением модели данных вам нужно установить видение продукта. Пожалуйста, сначала запустите `/product-vision`, затем `/product-roadmap` для определения ваших секций."

Остановитесь здесь, если предварительные условия отсутствуют.

## Step 2: Gather Initial Input

Просмотрите обзор продукта и дорожную карту, затем представьте ваш первоначальный анализ:

"Основываясь на вашем видении продукта и дорожной карте, я вижу, что вы создаете **[Product Name]** с секциями для [список секций].

Позвольте мне помочь вам определить основную модель данных — главные «вещи», с которыми будет работать ваше приложение.

Глядя на ваш продукт, вот некоторые сущности, которые я вижу:

- **[Entity 1]** — [Краткое описание на основе обзора продукта]
- **[Entity 2]** — [Краткое описание на основе секций]
- **[Entity 3]** — [Краткое описание]

Отражает ли это основные вещи, с которыми работает ваше приложение? Что бы вы добавили, удалили или изменили?"

Дождитесь их ответа перед продолжением.

## Step 3: Refine Entities

Используйте инструмент AskUserQuestion для уточнения:

- "Есть ли другие основные сущности в вашей системе, которые пользователи будут создавать, просматривать или управлять ими?"
- "Для [Entity], какая самая важная информация в ней содержится? (Не нужно каждое поле, только ключевые)"
- "Как эти сущности связаны друг с другом?"

Держите разговор сфокусированным на:
- **Названиях сущностей** — Какие основные существительные?
- **Описаниях простым языком** — Что представляет каждая сущность?
- **Связях** — Как сущности соединяются друг с другом?

**Важно:** НЕ определяйте каждое поле или детали схемы базы данных. Держите это минимальным и концептуальным.

## Step 4: Present Draft and Refine

Как только у вас будет достаточно информации, представьте черновик:

"Вот ваша модель данных:

**Сущности:**

- **[Entity1]** — [Описание]
- **[Entity2]** — [Описание]

**Связи:**

- [Entity1] имеет много [Entity2]
- [Entity2] принадлежит [Entity1]
- [Entity3] связывает [Entity1] и [Entity4]

Выглядит правильно? Какие-нибудь корректировки?"

Итерируйте, пока пользователь не будет удовлетворен.

## Step 5: Create the File

После одобрения создайте файл по адресу `/product/data-model/data-model.md` в следующем формате:

```markdown
# Data Model

## Entities

### [EntityName]
[Описание простым языком того, что представляет эта сущность и её назначение в системе.]

### [AnotherEntity]
[Описание простым языком.]

[Добавьте больше сущностей по мере необходимости]

## Relationships

- [Entity1] has many [Entity2]
- [Entity2] belongs to [Entity1]
- [Entity3] belongs to both [Entity1] and [Entity2]
[Добавьте больше связей по мере необходимости]
```

**Важно:** Держите описания минимальными — фокусируйтесь на том, что представляет каждая сущность, а не на каждом поле, которое она содержит. Оставьте место для агента реализации, чтобы расширить модель.

## Step 6: Confirm Completion

Сообщите пользователю:

"Я создал вашу модель данных в `/product/data-model/data-model.md`.

**Определенные сущности:**
- [Список сущностей]

**Связи:**
- [Список ключевых связей]

Это обеспечивает общий словарь, который будет использоваться при генерации примерных данных для ваших секций. Когда вы запустите `/sample-data`, он будет ссылаться на эту модель для обеспечения согласованности.

Следующий шаг: Запустите `/design-tokens` для выбора цветовой палитры и типографики."

## Important Notes

- Держите модель данных **минимальной** — названия сущностей, описания и связи
- НЕ определяйте детальные схемы, типы полей или правила валидации
- Используйте простой язык, понятный нетехническому человеку
- Связи должны описывать, как сущности соединяются концептуально
- Агент реализации расширит это дополнительными полями по мере необходимости
- Названия сущностей должны быть в единственном числе (User, Invoice, Project — не Users, Invoices)
